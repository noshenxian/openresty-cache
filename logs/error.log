2025/07/03 19:53:00 [notice] 28250#14346224: using the "kqueue" event method
2025/07/03 19:53:00 [notice] 28250#14346224: openresty/1.27.1.2
2025/07/03 19:53:00 [notice] 28250#14346224: built by clang 17.0.0 (clang-1700.0.13.5)
2025/07/03 19:53:00 [notice] 28250#14346224: OS: Darwin 24.5.0
2025/07/03 19:53:00 [notice] 28250#14346224: hw.ncpu: 10
2025/07/03 19:53:00 [notice] 28250#14346224: net.inet.tcp.sendspace: 131072
2025/07/03 19:53:00 [notice] 28250#14346224: kern.ipc.somaxconn: 128
2025/07/03 19:53:00 [notice] 28250#14346224: hw.cachelinesize: 128
2025/07/03 19:53:00 [notice] 28250#14346224: getrlimit(RLIMIT_NOFILE): 1048575:9223372036854775807
2025/07/03 19:53:00 [notice] 28251#14346226: start worker processes
2025/07/03 19:53:00 [notice] 28251#14346226: start worker process 28252
2025/07/03 19:53:00 [notice] 28251#14346226: start worker process 28253
2025/07/03 19:53:00 [notice] 28251#14346226: start worker process 28254
2025/07/03 19:53:00 [notice] 28251#14346226: start worker process 28255
2025/07/03 19:53:00 [notice] 28251#14346226: start worker process 28256
2025/07/03 19:53:00 [notice] 28251#14346226: start worker process 28258
2025/07/03 19:53:00 [notice] 28251#14346226: start worker process 28259
2025/07/03 19:53:00 [notice] 28251#14346226: start worker process 28260
2025/07/03 19:53:00 [notice] 28251#14346226: start worker process 28261
2025/07/03 19:53:00 [notice] 28251#14346226: start worker process 28262
2025/07/03 19:53:00 [notice] 28251#14346226: signal 23 (SIGIO) received from 28256
2025/07/03 19:53:17 [info] 28261#14346237: *5 [lua] log.lua:21: {"args":{},"time":1751543597,"status":200,"uri":"\/favicon.ico","cache_key":"35a63c8a85b1279a0f991ce8828fb9d9","cache_hit":false} while logging request, client: 127.0.0.1, server: localhost, request: "GET /favicon.ico HTTP/1.1", host: "localhost:8080", referrer: "http://localhost:8080/dashboard/"
2025/07/03 19:53:20 [info] 28259#14346234: *7 [lua] log.lua:21: {"status":200,"cache_level":2,"time":1751543600,"cache_hit":true,"uri":"\/kp\/c100630\/kaiwu.shtml","cache_key":"00f12cdf0d55648b20adb612be91962c","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100630/kaiwu.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/zs/pc/list.html"
2025/07/03 19:53:21 [info] 28259#14346234: *7 [lua] log.lua:21: {"status":200,"cache_level":2,"time":1751543601,"cache_hit":true,"uri":"\/kp\/c100371\/alzx.shtml","cache_key":"e3acfd07b93727f183fc971f895a42b4","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100371/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100630/kaiwu.shtml"
2025/07/03 19:53:21 [info] 28259#14346234: *7 [lua] log.lua:21: {"status":200,"cache_level":2,"time":1751543601,"cache_hit":true,"uri":"\/kp\/c100379\/alzx.shtml","cache_key":"19665c6313983dbb9f58371a8bd23d3e","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100379/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100371/alzx.shtml"
2025/07/03 19:53:22 [info] 28259#14346234: *7 [lua] log.lua:21: {"status":200,"cache_level":2,"time":1751543602,"cache_hit":true,"uri":"\/kp\/xwdt\/xwzxxym.shtml","cache_key":"02c10bb1fb2a0edba7668219215d25e9","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/xwdt/xwzxxym.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100379/alzx.shtml"
2025/07/03 19:53:23 [info] 28259#14346234: *7 [lua] log.lua:21: {"status":200,"time":1751543603,"cache_hit":false,"uri":"\/kp\/xwdt\/1940303834999595008\/NLgdcYrD.jpg","cache_key":"a56dcadf2e1acf43cb5089728ba6294a","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/xwdt/1940303834999595008/NLgdcYrD.jpg HTTP/1.1", upstream: "https://198.18.19.207:443/kp/xwdt/1940303834999595008/NLgdcYrD.jpg", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/xwdt/xwzxxym.shtml"
2025/07/03 19:53:23 [info] 28259#14346234: *7 [lua] log.lua:21: {"status":200,"cache_level":2,"time":1751543603,"cache_hit":true,"uri":"\/kp\/c100096\/tzzgx2022.html","cache_key":"196fe93d60b56004c3620f54710e3454","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100096/tzzgx2022.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/xwdt/xwzxxym.shtml"
2025/07/03 19:53:24 [info] 28262#14346238: *14 [lua] log.lua:21: {"status":304,"cache_level":2,"time":1751543604,"cache_hit":true,"uri":"\/noticejson\/tempnotice.json","cache_key":"fb17d6e5a4d50e0e2e59d92c804e6b9f","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /noticejson/tempnotice.json HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:53:24 [info] 28262#14346238: *15 [lua] log.lua:21: {"status":304,"cache_level":2,"time":1751543604,"cache_hit":true,"uri":"\/noticejson\/notice.json","cache_key":"5f61383e2532c96ccb9d7e8465398dd0","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /noticejson/notice.json HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:53:24 [info] 28259#14346234: *7 [lua] log.lua:21: {"status":304,"time":1751543604,"cache_hit":false,"uri":"\/getManuscriptById","cache_key":"8bbf009c5ee1de214cb2ed4f177a2a93","args":{"id":"1650017651411390464"}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651411390464 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651411390464", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:53:24 [info] 28262#14346238: *12 [lua] log.lua:21: {"status":304,"time":1751543604,"cache_hit":false,"uri":"\/getManuscriptById","cache_key":"32063fabc44f0e25433e9444158bf4e4","args":{"id":"1650017651390418944"}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651390418944 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651390418944", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:53:24 [info] 28258#14346233: *13 [lua] log.lua:21: {"status":304,"time":1751543604,"cache_hit":false,"uri":"\/getManuscriptById","cache_key":"171ef6a56eeb564437c01b4411bffc67","args":{"id":"1650017651314921472"}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651314921472 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651314921472", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:53:24 [info] 28258#14346233: *13 [lua] log.lua:21: {"status":200,"cache_level":2,"time":1751543604,"cache_hit":true,"uri":"\/kp\/c100098\/gywm.shtml","cache_key":"99bbc222a4a901184ab4720d89edbbdf","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100098/gywm.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:53:25 [info] 28258#14346233: *13 [lua] log.lua:21: {"status":200,"time":1751543605,"cache_hit":false,"uri":"\/getManuscriptById","cache_key":"19d8b3f2ab893362ad0bfcc9f2d49200","args":{"id":"1650017640317456384"}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017640317456384 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017640317456384", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100098/gywm.shtml"
2025/07/03 19:53:25 [info] 28258#14346233: *13 [lua] log.lua:21: {"status":200,"cache_level":1,"time":1751543605,"cache_hit":true,"uri":"\/kp\/c100096\/tzzgx2022.html","cache_key":"196fe93d60b56004c3620f54710e3454","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100096/tzzgx2022.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100098/gywm.shtml"
2025/07/03 19:53:25 [info] 28259#14346234: *7 [lua] log.lua:21: {"status":304,"time":1751543605,"cache_hit":false,"uri":"\/getManuscriptById","cache_key":"171ef6a56eeb564437c01b4411bffc67","args":{"id":"1650017651314921472"}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651314921472 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651314921472", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:53:25 [info] 28258#14346233: *13 [lua] log.lua:21: {"status":304,"time":1751543605,"cache_hit":false,"uri":"\/getManuscriptById","cache_key":"8bbf009c5ee1de214cb2ed4f177a2a93","args":{"id":"1650017651411390464"}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651411390464 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651411390464", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:53:25 [info] 28262#14346238: *12 [lua] log.lua:21: {"status":304,"time":1751543605,"cache_hit":false,"uri":"\/getManuscriptById","cache_key":"32063fabc44f0e25433e9444158bf4e4","args":{"id":"1650017651390418944"}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651390418944 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651390418944", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:53:25 [info] 28262#14346238: *12 [lua] log.lua:21: {"status":200,"cache_level":1,"time":1751543605,"cache_hit":true,"uri":"\/kp\/xwdt\/xwzxxym.shtml","cache_key":"02c10bb1fb2a0edba7668219215d25e9","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/xwdt/xwzxxym.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:53:26 [info] 28262#14346238: *12 [lua] log.lua:21: {"status":200,"cache_level":1,"time":1751543606,"cache_hit":true,"uri":"\/kp\/c100371\/alzx.shtml","cache_key":"e3acfd07b93727f183fc971f895a42b4","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100371/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/xwdt/xwzxxym.shtml"
2025/07/03 19:53:26 [info] 28262#14346238: *12 [lua] log.lua:21: {"status":200,"cache_level":1,"time":1751543606,"cache_hit":true,"uri":"\/kp\/c100379\/alzx.shtml","cache_key":"19665c6313983dbb9f58371a8bd23d3e","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100379/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100371/alzx.shtml"
2025/07/03 19:53:27 [info] 28262#14346238: *12 [lua] log.lua:21: {"status":200,"cache_level":1,"time":1751543607,"cache_hit":true,"uri":"\/kp\/c100630\/kaiwu.shtml","cache_key":"00f12cdf0d55648b20adb612be91962c","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100630/kaiwu.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100379/alzx.shtml"
2025/07/03 19:53:28 [info] 28262#14346238: *12 [lua] log.lua:21: {"status":200,"cache_level":2,"time":1751543608,"cache_hit":true,"uri":"\/kp\/zs\/pc\/list.html","cache_key":"095d25ac1698d910de7b0632126deca4","args":{}} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/zs/pc/list.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100630/kaiwu.shtml"
2025/07/03 19:53:37 [error] 28261#14346237: *5 lua entry thread aborted: runtime error: /Users/sean/Desktop/openresty-cache//lua/lib/cache_lib.lua:349: bad argument #2 to 'insert' (number expected, got string)
stack traceback:
coroutine 0:
	[C]: in function 'insert'
	/Users/sean/Desktop/openresty-cache//lua/lib/cache_lib.lua:349: in function 'delete_by_prefix'
	/Users/sean/Desktop/openresty-cache/lua/api/router.lua:79: in function 'handler'
	/Users/sean/Desktop/openresty-cache/lua/api/router.lua:119: in main chunk, client: 127.0.0.1, server: localhost, request: "POST /api/cache/flush HTTP/1.1", host: "localhost:8080", referrer: "http://localhost:8080/dashboard/"
2025/07/03 19:56:14 [notice] 28251#14346226: signal 3 (SIGQUIT) received from 29576, shutting down
2025/07/03 19:56:14 [notice] 28252#14346227: gracefully shutting down
2025/07/03 19:56:14 [notice] 28259#14346234: gracefully shutting down
2025/07/03 19:56:14 [notice] 28260#14346236: gracefully shutting down
2025/07/03 19:56:14 [notice] 28258#14346233: gracefully shutting down
2025/07/03 19:56:14 [notice] 28253#14346228: gracefully shutting down
2025/07/03 19:56:14 [notice] 28256#14346231: gracefully shutting down
2025/07/03 19:56:14 [notice] 28261#14346237: gracefully shutting down
2025/07/03 19:56:14 [notice] 28262#14346238: gracefully shutting down
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28258#14346233: exiting
2025/07/03 19:56:14 [notice] 28260#14346236: exiting
2025/07/03 19:56:14 [notice] 28254#14346229: gracefully shutting down
2025/07/03 19:56:14 [notice] 28255#14346230: gracefully shutting down
2025/07/03 19:56:14 [notice] 28256#14346231: exiting
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28262#14346238: exiting
2025/07/03 19:56:14 [notice] 28259#14346234: exiting
2025/07/03 19:56:14 [notice] 28254#14346229: exiting
2025/07/03 19:56:14 [notice] 28253#14346228: exiting
2025/07/03 19:56:14 [notice] 28252#14346227: exiting
2025/07/03 19:56:14 [notice] 28255#14346230: exiting
2025/07/03 19:56:14 [notice] 28260#14346236: exit
2025/07/03 19:56:14 [notice] 28256#14346231: exit
2025/07/03 19:56:14 [notice] 28261#14346237: exiting
2025/07/03 19:56:14 [notice] 28262#14346238: exit
2025/07/03 19:56:14 [notice] 28254#14346229: exit
2025/07/03 19:56:14 [notice] 28259#14346234: exit
2025/07/03 19:56:14 [notice] 28258#14346233: exit
2025/07/03 19:56:14 [notice] 28253#14346228: exit
2025/07/03 19:56:14 [notice] 28261#14346237: exit
2025/07/03 19:56:14 [notice] 28255#14346230: exit
2025/07/03 19:56:14 [notice] 28252#14346227: exit
2025/07/03 19:56:14 [notice] 28251#14346226: signal 20 (SIGCHLD) received from 28253
2025/07/03 19:56:14 [notice] 28251#14346226: worker process 28254 exited with code 0
2025/07/03 19:56:14 [notice] 28251#14346226: worker process 28253 exited with code 0
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28251#14346226: signal 20 (SIGCHLD) received from 28258
2025/07/03 19:56:14 [notice] 28251#14346226: worker process 28258 exited with code 0
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28251#14346226: signal 20 (SIGCHLD) received from 28256
2025/07/03 19:56:14 [notice] 28251#14346226: worker process 28256 exited with code 0
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28251#14346226: signal 20 (SIGCHLD) received from 28260
2025/07/03 19:56:14 [notice] 28251#14346226: worker process 28260 exited with code 0
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28251#14346226: signal 20 (SIGCHLD) received from 28259
2025/07/03 19:56:14 [notice] 28251#14346226: worker process 28259 exited with code 0
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28251#14346226: signal 20 (SIGCHLD) received from 28255
2025/07/03 19:56:14 [notice] 28251#14346226: worker process 28262 exited with code 0
2025/07/03 19:56:14 [notice] 28251#14346226: worker process 28255 exited with code 0
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28251#14346226: signal 20 (SIGCHLD) received from 28252
2025/07/03 19:56:14 [notice] 28251#14346226: worker process 28252 exited with code 0
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received from 28261
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received from 28261
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received from 28261
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28251#14346226: signal 23 (SIGIO) received
2025/07/03 19:56:14 [notice] 28251#14346226: signal 20 (SIGCHLD) received from 28261
2025/07/03 19:56:14 [notice] 28251#14346226: worker process 28261 exited with code 0
2025/07/03 19:56:14 [notice] 28251#14346226: exit
2025/07/03 19:56:16 [notice] 29610#14352003: using the "kqueue" event method
2025/07/03 19:56:16 [notice] 29610#14352003: openresty/1.27.1.2
2025/07/03 19:56:16 [notice] 29610#14352003: built by clang 17.0.0 (clang-1700.0.13.5)
2025/07/03 19:56:16 [notice] 29610#14352003: OS: Darwin 24.5.0
2025/07/03 19:56:16 [notice] 29610#14352003: hw.ncpu: 10
2025/07/03 19:56:16 [notice] 29610#14352003: net.inet.tcp.sendspace: 131072
2025/07/03 19:56:16 [notice] 29610#14352003: kern.ipc.somaxconn: 128
2025/07/03 19:56:16 [notice] 29610#14352003: hw.cachelinesize: 128
2025/07/03 19:56:16 [notice] 29610#14352003: getrlimit(RLIMIT_NOFILE): 1048575:9223372036854775807
2025/07/03 19:56:16 [notice] 29611#14352004: start worker processes
2025/07/03 19:56:16 [notice] 29611#14352004: start worker process 29612
2025/07/03 19:56:16 [notice] 29611#14352004: start worker process 29613
2025/07/03 19:56:16 [notice] 29611#14352004: start worker process 29614
2025/07/03 19:56:16 [notice] 29611#14352004: start worker process 29615
2025/07/03 19:56:16 [notice] 29611#14352004: start worker process 29617
2025/07/03 19:56:16 [notice] 29611#14352004: start worker process 29618
2025/07/03 19:56:16 [notice] 29611#14352004: start worker process 29619
2025/07/03 19:56:16 [notice] 29611#14352004: start worker process 29620
2025/07/03 19:56:16 [notice] 29611#14352004: start worker process 29621
2025/07/03 19:56:16 [notice] 29611#14352004: start worker process 29622
2025/07/03 19:56:16 [notice] 29611#14352004: signal 23 (SIGIO) received
2025/07/03 19:56:16 [notice] 29611#14352004: signal 23 (SIGIO) received
2025/07/03 19:56:16 [notice] 29611#14352004: signal 23 (SIGIO) received
2025/07/03 19:56:24 [info] 29619#14352013: *3 [lua] log.lua:21: {"cache_key":"35a63c8a85b1279a0f991ce8828fb9d9","status":200,"args":{},"cache_hit":false,"time":1751543784,"uri":"\/favicon.ico"} while logging request, client: 127.0.0.1, server: localhost, request: "GET /favicon.ico HTTP/1.1", host: "localhost:8080", referrer: "http://localhost:8080/dashboard/"
2025/07/03 19:56:27 [info] 29618#14352011: *7 [lua] log.lua:21: {"args":{},"time":1751543787,"status":200,"cache_level":2,"cache_hit":true,"cache_key":"095d25ac1698d910de7b0632126deca4","uri":"\/kp\/zs\/pc\/list.html"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/zs/pc/list.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/zs/pc/list.html"
2025/07/03 19:56:27 [info] 29618#14352011: *7 [lua] log.lua:21: {"args":{},"time":1751543787,"status":200,"cache_level":2,"cache_hit":true,"cache_key":"00f12cdf0d55648b20adb612be91962c","uri":"\/kp\/c100630\/kaiwu.shtml"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100630/kaiwu.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/zs/pc/list.html"
2025/07/03 19:56:29 [info] 29618#14352011: *7 [lua] log.lua:21: {"args":{},"time":1751543789,"status":200,"cache_level":2,"cache_hit":true,"cache_key":"e3acfd07b93727f183fc971f895a42b4","uri":"\/kp\/c100371\/alzx.shtml"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100371/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100630/kaiwu.shtml"
2025/07/03 19:56:29 [info] 29618#14352011: *7 [lua] log.lua:21: {"args":{},"time":1751543789,"status":200,"cache_level":2,"cache_hit":true,"cache_key":"19665c6313983dbb9f58371a8bd23d3e","uri":"\/kp\/c100379\/alzx.shtml"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100379/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100371/alzx.shtml"
2025/07/03 19:56:29 [info] 29618#14352011: *10 [lua] log.lua:21: {"args":{},"time":1751543789,"status":200,"cache_level":2,"cache_hit":true,"cache_key":"02c10bb1fb2a0edba7668219215d25e9","uri":"\/kp\/xwdt\/xwzxxym.shtml"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/xwdt/xwzxxym.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100379/alzx.shtml"
2025/07/03 19:56:29 [info] 29618#14352011: *7 kevent() reported that client prematurely closed connection, so upstream connection is closed too while reading response header from upstream, client: 172.16.100.244, server: cache.example.com, request: "POST /queryList HTTP/1.1", upstream: "https://198.18.19.207:443/queryList", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100379/alzx.shtml"
2025/07/03 19:56:30 [info] 29618#14352011: *10 [lua] log.lua:21: {"args":{},"time":1751543790,"status":200,"cache_level":2,"cache_hit":true,"cache_key":"196fe93d60b56004c3620f54710e3454","uri":"\/kp\/c100096\/tzzgx2022.html"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100096/tzzgx2022.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/xwdt/xwzxxym.shtml"
2025/07/03 19:56:30 [info] 29622#14352016: *12 [lua] log.lua:21: {"time":1751543790,"status":304,"cache_key":"fb17d6e5a4d50e0e2e59d92c804e6b9f","args":{},"cache_level":2,"cache_hit":true,"uri":"\/noticejson\/tempnotice.json"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /noticejson/tempnotice.json HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:56:30 [info] 29621#14352015: *13 [lua] log.lua:21: {"args":{},"time":1751543790,"status":200,"cache_hit":false,"cache_key":"5f61383e2532c96ccb9d7e8465398dd0","uri":"\/noticejson\/notice.json"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /noticejson/notice.json HTTP/1.1", upstream: "https://198.18.19.207:443/noticejson/notice.json", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:56:30 [info] 29618#14352011: *10 [lua] log.lua:21: {"args":{"id":"1650017651390418944"},"time":1751543790,"status":304,"cache_hit":false,"cache_key":"32063fabc44f0e25433e9444158bf4e4","uri":"\/getManuscriptById"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651390418944 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651390418944", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:56:30 [info] 29622#14352016: *14 [lua] log.lua:21: {"time":1751543790,"status":304,"cache_key":"171ef6a56eeb564437c01b4411bffc67","args":{"id":"1650017651314921472"},"cache_hit":false,"uri":"\/getManuscriptById"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651314921472 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651314921472", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:56:30 [info] 29621#14352015: *11 [lua] log.lua:21: {"args":{"id":"1650017651411390464"},"time":1751543790,"status":304,"cache_hit":false,"cache_key":"8bbf009c5ee1de214cb2ed4f177a2a93","uri":"\/getManuscriptById"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651411390464 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651411390464", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:56:30 [info] 29621#14352015: *11 [lua] log.lua:21: {"args":{},"time":1751543790,"status":200,"cache_level":2,"cache_hit":true,"cache_key":"99bbc222a4a901184ab4720d89edbbdf","uri":"\/kp\/c100098\/gywm.shtml"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100098/gywm.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:56:30 [info] 29621#14352015: *11 [lua] log.lua:21: {"args":{"id":"1650017640317456384"},"time":1751543790,"status":304,"cache_level":2,"cache_hit":true,"cache_key":"19d8b3f2ab893362ad0bfcc9f2d49200","uri":"\/getManuscriptById"} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017640317456384 HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100098/gywm.shtml"
2025/07/03 19:56:38 [error] 29622#14352016: *5 lua entry thread aborted: runtime error: /Users/sean/Desktop/openresty-cache//lua/lib/cache_lib.lua:349: bad argument #2 to 'insert' (number expected, got string)
stack traceback:
coroutine 0:
	[C]: in function 'insert'
	/Users/sean/Desktop/openresty-cache//lua/lib/cache_lib.lua:349: in function 'delete_by_prefix'
	/Users/sean/Desktop/openresty-cache/lua/api/router.lua:79: in function 'handler'
	/Users/sean/Desktop/openresty-cache/lua/api/router.lua:119: in main chunk, client: 127.0.0.1, server: localhost, request: "POST /api/cache/flush HTTP/1.1", host: "localhost:8080", referrer: "http://localhost:8080/dashboard/"
2025/07/03 19:58:04 [notice] 29611#14352004: signal 3 (SIGQUIT) received from 30381, shutting down
2025/07/03 19:58:04 [notice] 29612#14352005: gracefully shutting down
2025/07/03 19:58:04 [notice] 29613#14352006: gracefully shutting down
2025/07/03 19:58:04 [notice] 29612#14352005: exiting
2025/07/03 19:58:04 [notice] 29613#14352006: exiting
2025/07/03 19:58:04 [notice] 29614#14352007: gracefully shutting down
2025/07/03 19:58:04 [notice] 29618#14352011: gracefully shutting down
2025/07/03 19:58:04 [notice] 29618#14352011: exiting
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received from 29618
2025/07/03 19:58:04 [notice] 29622#14352016: gracefully shutting down
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received from 29620
2025/07/03 19:58:04 [notice] 29622#14352016: exiting
2025/07/03 19:58:04 [notice] 29621#14352015: gracefully shutting down
2025/07/03 19:58:04 [notice] 29619#14352013: gracefully shutting down
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received from 29619
2025/07/03 19:58:04 [notice] 29614#14352007: exiting
2025/07/03 19:58:04 [notice] 29620#14352014: gracefully shutting down
2025/07/03 19:58:04 [notice] 29620#14352014: exiting
2025/07/03 19:58:04 [notice] 29621#14352015: exiting
2025/07/03 19:58:04 [notice] 29613#14352006: exit
2025/07/03 19:58:04 [notice] 29615#14352008: gracefully shutting down
2025/07/03 19:58:04 [notice] 29612#14352005: exit
2025/07/03 19:58:04 [notice] 29619#14352013: exiting
2025/07/03 19:58:04 [notice] 29615#14352008: exiting
2025/07/03 19:58:04 [notice] 29622#14352016: exit
2025/07/03 19:58:04 [notice] 29617#14352010: gracefully shutting down
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received from 29617
2025/07/03 19:58:04 [notice] 29617#14352010: exiting
2025/07/03 19:58:04 [notice] 29618#14352011: exit
2025/07/03 19:58:04 [notice] 29615#14352008: exit
2025/07/03 19:58:04 [notice] 29617#14352010: exit
2025/07/03 19:58:04 [notice] 29620#14352014: exit
2025/07/03 19:58:04 [notice] 29614#14352007: exit
2025/07/03 19:58:04 [notice] 29619#14352013: exit
2025/07/03 19:58:04 [notice] 29621#14352015: exit
2025/07/03 19:58:04 [notice] 29611#14352004: signal 20 (SIGCHLD) received from 29622
2025/07/03 19:58:04 [notice] 29611#14352004: worker process 29622 exited with code 0
2025/07/03 19:58:04 [notice] 29611#14352004: worker process 29613 exited with code 0
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received
2025/07/03 19:58:04 [notice] 29611#14352004: signal 20 (SIGCHLD) received from 29618
2025/07/03 19:58:04 [notice] 29611#14352004: worker process 29618 exited with code 0
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received
2025/07/03 19:58:04 [notice] 29611#14352004: signal 20 (SIGCHLD) received from 29617
2025/07/03 19:58:04 [notice] 29611#14352004: worker process 29617 exited with code 0
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received
2025/07/03 19:58:04 [notice] 29611#14352004: signal 20 (SIGCHLD) received from 29612
2025/07/03 19:58:04 [notice] 29611#14352004: worker process 29614 exited with code 0
2025/07/03 19:58:04 [notice] 29611#14352004: worker process 29612 exited with code 0
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received
2025/07/03 19:58:04 [notice] 29611#14352004: signal 20 (SIGCHLD) received from 29615
2025/07/03 19:58:04 [notice] 29611#14352004: worker process 29615 exited with code 0
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received
2025/07/03 19:58:04 [notice] 29611#14352004: signal 20 (SIGCHLD) received from 29619
2025/07/03 19:58:04 [notice] 29611#14352004: worker process 29619 exited with code 0
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received
2025/07/03 19:58:04 [notice] 29611#14352004: signal 20 (SIGCHLD) received from 29620
2025/07/03 19:58:04 [notice] 29611#14352004: worker process 29620 exited with code 0
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received from 29621
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received from 29621
2025/07/03 19:58:04 [notice] 29611#14352004: signal 23 (SIGIO) received
2025/07/03 19:58:04 [notice] 29611#14352004: signal 20 (SIGCHLD) received from 29621
2025/07/03 19:58:04 [notice] 29611#14352004: worker process 29621 exited with code 0
2025/07/03 19:58:04 [notice] 29611#14352004: exit
2025/07/03 19:58:06 [notice] 30411#14355417: using the "kqueue" event method
2025/07/03 19:58:06 [notice] 30411#14355417: openresty/1.27.1.2
2025/07/03 19:58:06 [notice] 30411#14355417: built by clang 17.0.0 (clang-1700.0.13.5)
2025/07/03 19:58:06 [notice] 30411#14355417: OS: Darwin 24.5.0
2025/07/03 19:58:06 [notice] 30411#14355417: hw.ncpu: 10
2025/07/03 19:58:06 [notice] 30411#14355417: net.inet.tcp.sendspace: 131072
2025/07/03 19:58:06 [notice] 30411#14355417: kern.ipc.somaxconn: 128
2025/07/03 19:58:06 [notice] 30411#14355417: hw.cachelinesize: 128
2025/07/03 19:58:06 [notice] 30411#14355417: getrlimit(RLIMIT_NOFILE): 1048575:9223372036854775807
2025/07/03 19:58:06 [notice] 30412#14355419: start worker processes
2025/07/03 19:58:06 [notice] 30412#14355419: start worker process 30413
2025/07/03 19:58:06 [notice] 30412#14355419: start worker process 30414
2025/07/03 19:58:06 [notice] 30412#14355419: start worker process 30415
2025/07/03 19:58:06 [notice] 30412#14355419: start worker process 30416
2025/07/03 19:58:06 [notice] 30412#14355419: start worker process 30417
2025/07/03 19:58:06 [notice] 30412#14355419: start worker process 30419
2025/07/03 19:58:06 [notice] 30412#14355419: start worker process 30420
2025/07/03 19:58:06 [notice] 30412#14355419: start worker process 30421
2025/07/03 19:58:06 [notice] 30412#14355419: start worker process 30422
2025/07/03 19:58:06 [notice] 30412#14355419: start worker process 30423
2025/07/03 19:58:06 [notice] 30412#14355419: signal 23 (SIGIO) received
2025/07/03 19:58:12 [info] 30423#14355431: *2 [lua] log.lua:21: {"status":200,"uri":"\/favicon.ico","cache_key":"35a63c8a85b1279a0f991ce8828fb9d9","cache_hit":false,"args":{},"time":1751543892} while logging request, client: 127.0.0.1, server: localhost, request: "GET /favicon.ico HTTP/1.1", host: "localhost:8080", referrer: "http://localhost:8080/dashboard/"
2025/07/03 19:58:15 [info] 30420#14355428: *5 [lua] log.lua:21: {"cache_hit":true,"status":200,"uri":"\/kp\/zs\/pc\/list.html","cache_key":"095d25ac1698d910de7b0632126deca4","cache_level":2,"args":{},"time":1751543895} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/zs/pc/list.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100098/gywm.shtml"
2025/07/03 19:58:15 [info] 30420#14355428: *5 [lua] log.lua:21: {"cache_hit":true,"status":200,"uri":"\/kp\/c100630\/kaiwu.shtml","cache_key":"00f12cdf0d55648b20adb612be91962c","cache_level":2,"args":{},"time":1751543895} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100630/kaiwu.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/zs/pc/list.html"
2025/07/03 19:58:16 [info] 30420#14355428: *5 [lua] log.lua:21: {"cache_hit":true,"status":200,"uri":"\/kp\/c100371\/alzx.shtml","cache_key":"e3acfd07b93727f183fc971f895a42b4","cache_level":2,"args":{},"time":1751543896} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100371/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100630/kaiwu.shtml"
2025/07/03 19:58:16 [info] 30420#14355428: *5 [lua] log.lua:21: {"cache_hit":true,"status":200,"uri":"\/kp\/c100379\/alzx.shtml","cache_key":"19665c6313983dbb9f58371a8bd23d3e","cache_level":2,"args":{},"time":1751543896} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100379/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100371/alzx.shtml"
2025/07/03 19:58:17 [info] 30423#14355431: *8 [lua] log.lua:21: {"status":200,"uri":"\/kp\/xwdt\/xwzxxym.shtml","cache_level":2,"cache_key":"02c10bb1fb2a0edba7668219215d25e9","cache_hit":true,"args":{},"time":1751543897} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/xwdt/xwzxxym.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100379/alzx.shtml"
2025/07/03 19:58:17 [info] 30420#14355428: *5 kevent() reported that client prematurely closed connection, so upstream connection is closed too while reading response header from upstream, client: 172.16.100.244, server: cache.example.com, request: "POST /queryList HTTP/1.1", upstream: "https://198.18.19.207:443/queryList", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100379/alzx.shtml"
2025/07/03 19:58:17 [info] 30423#14355431: *8 [lua] log.lua:21: {"status":200,"uri":"\/kp\/c100096\/tzzgx2022.html","cache_level":2,"cache_key":"196fe93d60b56004c3620f54710e3454","cache_hit":true,"args":{},"time":1751543897} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100096/tzzgx2022.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/xwdt/xwzxxym.shtml"
2025/07/03 19:58:17 [info] 30423#14355431: *11 [lua] log.lua:21: {"status":304,"uri":"\/noticejson\/tempnotice.json","cache_level":2,"cache_key":"fb17d6e5a4d50e0e2e59d92c804e6b9f","cache_hit":true,"args":{},"time":1751543897} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /noticejson/tempnotice.json HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:58:18 [info] 30423#14355431: *12 [lua] log.lua:21: {"status":304,"uri":"\/noticejson\/notice.json","cache_key":"5f61383e2532c96ccb9d7e8465398dd0","cache_hit":false,"args":{},"time":1751543898} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /noticejson/notice.json HTTP/1.1", upstream: "https://198.18.19.207:443/noticejson/notice.json", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:58:18 [info] 30423#14355431: *8 [lua] log.lua:21: {"status":304,"uri":"\/getManuscriptById","cache_key":"32063fabc44f0e25433e9444158bf4e4","cache_hit":false,"args":{"id":"1650017651390418944"},"time":1751543898} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651390418944 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651390418944", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:58:18 [info] 30423#14355431: *10 [lua] log.lua:21: {"status":304,"uri":"\/getManuscriptById","cache_key":"8bbf009c5ee1de214cb2ed4f177a2a93","cache_hit":false,"args":{"id":"1650017651411390464"},"time":1751543898} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651411390464 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651411390464", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:58:18 [info] 30421#14355429: *9 [lua] log.lua:21: {"status":304,"cache_key":"171ef6a56eeb564437c01b4411bffc67","uri":"\/getManuscriptById","cache_hit":false,"args":{"id":"1650017651314921472"},"time":1751543898} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651314921472 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651314921472", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:58:18 [info] 30421#14355429: *9 [lua] log.lua:21: {"status":200,"cache_key":"99bbc222a4a901184ab4720d89edbbdf","uri":"\/kp\/c100098\/gywm.shtml","cache_level":2,"cache_hit":true,"args":{},"time":1751543898} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100098/gywm.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:58:18 [info] 30421#14355429: *9 [lua] log.lua:21: {"status":304,"cache_key":"19d8b3f2ab893362ad0bfcc9f2d49200","uri":"\/getManuscriptById","cache_level":2,"cache_hit":true,"args":{"id":"1650017640317456384"},"time":1751543898} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017640317456384 HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100098/gywm.shtml"
2025/07/03 19:58:18 [info] 30421#14355429: *9 [lua] log.lua:21: {"status":200,"cache_key":"196fe93d60b56004c3620f54710e3454","uri":"\/kp\/c100096\/tzzgx2022.html","cache_level":1,"cache_hit":true,"args":{},"time":1751543898} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100096/tzzgx2022.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100098/gywm.shtml"
2025/07/03 19:58:19 [info] 30423#14355431: *10 [lua] log.lua:21: {"status":304,"uri":"\/getManuscriptById","cache_key":"32063fabc44f0e25433e9444158bf4e4","cache_hit":false,"args":{"id":"1650017651390418944"},"time":1751543899} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651390418944 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651390418944", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:58:19 [info] 30421#14355429: *9 [lua] log.lua:21: {"status":304,"cache_key":"8bbf009c5ee1de214cb2ed4f177a2a93","uri":"\/getManuscriptById","cache_hit":false,"args":{"id":"1650017651411390464"},"time":1751543899} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651411390464 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651411390464", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:58:19 [info] 30423#14355431: *8 [lua] log.lua:21: {"status":304,"uri":"\/getManuscriptById","cache_key":"171ef6a56eeb564437c01b4411bffc67","cache_hit":false,"args":{"id":"1650017651314921472"},"time":1751543899} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651314921472 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651314921472", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:58:19 [info] 30423#14355431: *8 [lua] log.lua:21: {"status":200,"uri":"\/kp\/xwdt\/xwzxxym.shtml","cache_level":1,"cache_key":"02c10bb1fb2a0edba7668219215d25e9","cache_hit":true,"args":{},"time":1751543899} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/xwdt/xwzxxym.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 19:58:19 [info] 30423#14355431: *8 [lua] log.lua:21: {"status":200,"uri":"\/kp\/c100371\/alzx.shtml","cache_level":1,"cache_key":"e3acfd07b93727f183fc971f895a42b4","cache_hit":true,"args":{},"time":1751543899} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100371/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/xwdt/xwzxxym.shtml"
2025/07/03 19:58:19 [info] 30423#14355431: *8 [lua] log.lua:21: {"status":200,"uri":"\/kp\/c100379\/alzx.shtml","cache_level":1,"cache_key":"19665c6313983dbb9f58371a8bd23d3e","cache_hit":true,"args":{},"time":1751543899} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100379/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100371/alzx.shtml"
2025/07/03 19:58:20 [info] 30423#14355431: *8 [lua] log.lua:21: {"status":200,"uri":"\/kp\/c100630\/kaiwu.shtml","cache_level":1,"cache_key":"00f12cdf0d55648b20adb612be91962c","cache_hit":true,"args":{},"time":1751543900} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100630/kaiwu.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100379/alzx.shtml"
2025/07/03 19:58:21 [info] 30423#14355431: *8 [lua] log.lua:21: {"status":200,"uri":"\/kp\/zs\/pc\/list.html","cache_level":1,"cache_key":"095d25ac1698d910de7b0632126deca4","cache_hit":true,"args":{},"time":1751543901} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/zs/pc/list.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100630/kaiwu.shtml"
2025/07/03 19:58:28 [error] 30423#14355431: *2 lua entry thread aborted: runtime error: /Users/sean/Desktop/openresty-cache//lua/lib/cache_lib.lua:349: bad argument #2 to 'insert' (number expected, got string)
stack traceback:
coroutine 0:
	[C]: in function 'insert'
	/Users/sean/Desktop/openresty-cache//lua/lib/cache_lib.lua:349: in function 'delete_by_prefix'
	/Users/sean/Desktop/openresty-cache/lua/api/router.lua:79: in function 'handler'
	/Users/sean/Desktop/openresty-cache/lua/api/router.lua:119: in main chunk, client: 127.0.0.1, server: localhost, request: "POST /api/cache/flush HTTP/1.1", host: "localhost:8080", referrer: "http://localhost:8080/dashboard/"
2025/07/03 20:03:40 [notice] 30412#14355419: signal 3 (SIGQUIT) received from 32973, shutting down
2025/07/03 20:03:40 [notice] 30413#14355420: gracefully shutting down
2025/07/03 20:03:40 [notice] 30415#14355422: gracefully shutting down
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received from 30414
2025/07/03 20:03:40 [notice] 30413#14355420: exiting
2025/07/03 20:03:40 [notice] 30415#14355422: exiting
2025/07/03 20:03:40 [notice] 30420#14355428: gracefully shutting down
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received from 30419
2025/07/03 20:03:40 [notice] 30417#14355424: gracefully shutting down
2025/07/03 20:03:40 [notice] 30419#14355426: gracefully shutting down
2025/07/03 20:03:40 [notice] 30423#14355431: gracefully shutting down
2025/07/03 20:03:40 [notice] 30420#14355428: exiting
2025/07/03 20:03:40 [notice] 30414#14355421: gracefully shutting down
2025/07/03 20:03:40 [notice] 30421#14355429: gracefully shutting down
2025/07/03 20:03:40 [notice] 30422#14355430: gracefully shutting down
2025/07/03 20:03:40 [notice] 30417#14355424: exiting
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received
2025/07/03 20:03:40 [notice] 30414#14355421: exiting
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received
2025/07/03 20:03:40 [notice] 30419#14355426: exiting
2025/07/03 20:03:40 [notice] 30422#14355430: exiting
2025/07/03 20:03:40 [notice] 30423#14355431: exiting
2025/07/03 20:03:40 [notice] 30415#14355422: exit
2025/07/03 20:03:40 [notice] 30416#14355423: gracefully shutting down
2025/07/03 20:03:40 [notice] 30413#14355420: exit
2025/07/03 20:03:40 [notice] 30414#14355421: exit
2025/07/03 20:03:40 [notice] 30416#14355423: exiting
2025/07/03 20:03:40 [notice] 30422#14355430: exit
2025/07/03 20:03:40 [notice] 30419#14355426: exit
2025/07/03 20:03:40 [notice] 30420#14355428: exit
2025/07/03 20:03:40 [notice] 30417#14355424: exit
2025/07/03 20:03:40 [notice] 30423#14355431: exit
2025/07/03 20:03:40 [notice] 30416#14355423: exit
2025/07/03 20:03:40 [notice] 30421#14355429: exiting
2025/07/03 20:03:40 [notice] 30412#14355419: signal 20 (SIGCHLD) received from 30414
2025/07/03 20:03:40 [notice] 30412#14355419: worker process 30415 exited with code 0
2025/07/03 20:03:40 [notice] 30412#14355419: worker process 30414 exited with code 0
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received
2025/07/03 20:03:40 [notice] 30412#14355419: signal 20 (SIGCHLD) received from 30422
2025/07/03 20:03:40 [notice] 30412#14355419: worker process 30422 exited with code 0
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received
2025/07/03 20:03:40 [notice] 30412#14355419: signal 20 (SIGCHLD) received from 30419
2025/07/03 20:03:40 [notice] 30412#14355419: worker process 30419 exited with code 0
2025/07/03 20:03:40 [notice] 30412#14355419: worker process 30417 exited with code 0
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received
2025/07/03 20:03:40 [notice] 30412#14355419: signal 20 (SIGCHLD) received
2025/07/03 20:03:40 [notice] 30412#14355419: signal 20 (SIGCHLD) received from 30413
2025/07/03 20:03:40 [notice] 30412#14355419: worker process 30420 exited with code 0
2025/07/03 20:03:40 [notice] 30412#14355419: worker process 30413 exited with code 0
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received
2025/07/03 20:03:40 [notice] 30421#14355429: exit
2025/07/03 20:03:40 [notice] 30412#14355419: signal 20 (SIGCHLD) received from 30416
2025/07/03 20:03:40 [notice] 30412#14355419: worker process 30416 exited with code 0
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received
2025/07/03 20:03:40 [notice] 30412#14355419: signal 20 (SIGCHLD) received from 30423
2025/07/03 20:03:40 [notice] 30412#14355419: worker process 30423 exited with code 0
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received from 30421
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received from 30421
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received
2025/07/03 20:03:40 [notice] 30412#14355419: signal 23 (SIGIO) received from 30421
2025/07/03 20:03:40 [notice] 30412#14355419: signal 20 (SIGCHLD) received from 30421
2025/07/03 20:03:40 [notice] 30412#14355419: worker process 30421 exited with code 0
2025/07/03 20:03:40 [notice] 30412#14355419: exit
2025/07/03 20:03:42 [notice] 33003#14365899: using the "kqueue" event method
2025/07/03 20:03:42 [notice] 33003#14365899: openresty/1.27.1.2
2025/07/03 20:03:42 [notice] 33003#14365899: built by clang 17.0.0 (clang-1700.0.13.5)
2025/07/03 20:03:42 [notice] 33003#14365899: OS: Darwin 24.5.0
2025/07/03 20:03:42 [notice] 33003#14365899: hw.ncpu: 10
2025/07/03 20:03:42 [notice] 33003#14365899: net.inet.tcp.sendspace: 131072
2025/07/03 20:03:42 [notice] 33003#14365899: kern.ipc.somaxconn: 128
2025/07/03 20:03:42 [notice] 33003#14365899: hw.cachelinesize: 128
2025/07/03 20:03:42 [notice] 33003#14365899: getrlimit(RLIMIT_NOFILE): 1048575:9223372036854775807
2025/07/03 20:03:42 [notice] 33004#14365905: start worker processes
2025/07/03 20:03:42 [notice] 33004#14365905: start worker process 33005
2025/07/03 20:03:42 [notice] 33004#14365905: start worker process 33006
2025/07/03 20:03:42 [notice] 33004#14365905: start worker process 33007
2025/07/03 20:03:42 [notice] 33004#14365905: start worker process 33008
2025/07/03 20:03:42 [notice] 33004#14365905: start worker process 33010
2025/07/03 20:03:42 [notice] 33004#14365905: start worker process 33011
2025/07/03 20:03:42 [notice] 33004#14365905: start worker process 33012
2025/07/03 20:03:42 [notice] 33004#14365905: start worker process 33013
2025/07/03 20:03:42 [notice] 33004#14365905: start worker process 33014
2025/07/03 20:03:42 [notice] 33004#14365905: start worker process 33015
2025/07/03 20:03:42 [notice] 33004#14365905: signal 23 (SIGIO) received
2025/07/03 20:03:42 [notice] 33004#14365905: signal 23 (SIGIO) received
2025/07/03 20:03:52 [info] 33010#14365911: *5 [lua] log.lua:21: {"uri":"\/favicon.ico","args":{},"cache_hit":false,"status":200,"cache_key":"35a63c8a85b1279a0f991ce8828fb9d9","time":1751544232} while logging request, client: 127.0.0.1, server: localhost, request: "GET /favicon.ico HTTP/1.1", host: "localhost:8080", referrer: "http://localhost:8080/dashboard/"
2025/07/03 20:03:55 [info] 33011#14365912: *7 [lua] log.lua:21: {"uri":"\/kp\/zs\/pc\/list.html","cache_key":"095d25ac1698d910de7b0632126deca4","args":{},"status":200,"cache_level":2,"cache_hit":true,"time":1751544235} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/zs/pc/list.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/zs/pc/list.html"
2025/07/03 20:03:56 [info] 33011#14365912: *7 [lua] log.lua:21: {"uri":"\/kp\/c100630\/kaiwu.shtml","cache_key":"00f12cdf0d55648b20adb612be91962c","args":{},"status":200,"cache_level":2,"cache_hit":true,"time":1751544236} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100630/kaiwu.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/zs/pc/list.html"
2025/07/03 20:03:57 [info] 33011#14365912: *7 [lua] log.lua:21: {"uri":"\/kp\/c100371\/alzx.shtml","cache_key":"e3acfd07b93727f183fc971f895a42b4","args":{},"status":200,"cache_level":2,"cache_hit":true,"time":1751544237} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100371/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100630/kaiwu.shtml"
2025/07/03 20:03:57 [info] 33011#14365912: *7 [lua] log.lua:21: {"uri":"\/kp\/c100379\/alzx.shtml","cache_key":"19665c6313983dbb9f58371a8bd23d3e","args":{},"status":200,"cache_level":2,"cache_hit":true,"time":1751544237} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100379/alzx.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100371/alzx.shtml"
2025/07/03 20:03:58 [info] 33014#14365916: *10 [lua] log.lua:21: {"uri":"\/kp\/xwdt\/xwzxxym.shtml","cache_key":"02c10bb1fb2a0edba7668219215d25e9","args":{},"status":200,"cache_level":2,"cache_hit":true,"time":1751544238} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/xwdt/xwzxxym.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100379/alzx.shtml"
2025/07/03 20:03:58 [info] 33011#14365912: *7 kevent() reported that client prematurely closed connection, so upstream connection is closed too while reading response header from upstream, client: 172.16.100.244, server: cache.example.com, request: "POST /queryList HTTP/1.1", upstream: "https://198.18.19.207:443/queryList", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100379/alzx.shtml"
2025/07/03 20:03:58 [info] 33014#14365916: *10 [lua] log.lua:21: {"uri":"\/kp\/c100096\/tzzgx2022.html","cache_key":"196fe93d60b56004c3620f54710e3454","args":{},"status":200,"cache_level":2,"cache_hit":true,"time":1751544238} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100096/tzzgx2022.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/xwdt/xwzxxym.shtml"
2025/07/03 20:03:59 [info] 33014#14365916: *13 [lua] log.lua:21: {"uri":"\/noticejson\/tempnotice.json","cache_key":"fb17d6e5a4d50e0e2e59d92c804e6b9f","args":{},"status":304,"cache_level":2,"cache_hit":true,"time":1751544239} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /noticejson/tempnotice.json HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 20:03:59 [info] 33014#14365916: *10 [lua] log.lua:21: {"uri":"\/getManuscriptById","cache_key":"8bbf009c5ee1de214cb2ed4f177a2a93","args":{"id":"1650017651411390464"},"status":304,"cache_hit":false,"time":1751544239} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651411390464 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651411390464", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 20:03:59 [info] 33014#14365916: *15 [lua] log.lua:21: {"uri":"\/noticejson\/notice.json","cache_key":"5f61383e2532c96ccb9d7e8465398dd0","args":{},"status":200,"cache_hit":false,"time":1751544239} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /noticejson/notice.json HTTP/1.1", upstream: "https://198.18.19.207:443/noticejson/notice.json", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 20:03:59 [info] 33014#14365916: *12 [lua] log.lua:21: {"uri":"\/getManuscriptById","cache_key":"32063fabc44f0e25433e9444158bf4e4","args":{"id":"1650017651390418944"},"status":304,"cache_hit":false,"time":1751544239} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651390418944 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651390418944", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 20:03:59 [info] 33014#14365916: *14 [lua] log.lua:21: {"uri":"\/getManuscriptById","cache_key":"171ef6a56eeb564437c01b4411bffc67","args":{"id":"1650017651314921472"},"status":304,"cache_hit":false,"time":1751544239} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017651314921472 HTTP/1.1", upstream: "https://198.18.19.207:443/getManuscriptById?id=1650017651314921472", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 20:03:59 [info] 33014#14365916: *14 [lua] log.lua:21: {"uri":"\/kp\/c100098\/gywm.shtml","cache_key":"99bbc222a4a901184ab4720d89edbbdf","args":{},"status":200,"cache_level":2,"cache_hit":true,"time":1751544239} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/c100098/gywm.shtml HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100096/tzzgx2022.html"
2025/07/03 20:03:59 [info] 33014#14365916: *14 [lua] log.lua:21: {"uri":"\/getManuscriptById","cache_key":"19d8b3f2ab893362ad0bfcc9f2d49200","args":{"id":"1650017640317456384"},"status":304,"cache_level":2,"cache_hit":true,"time":1751544239} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /getManuscriptById?id=1650017640317456384 HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100098/gywm.shtml"
2025/07/03 20:04:00 [info] 33014#14365916: *14 [lua] log.lua:21: {"uri":"\/kp\/zs\/pc\/list.html","cache_key":"095d25ac1698d910de7b0632126deca4","args":{},"status":200,"cache_level":1,"cache_hit":true,"time":1751544240} while logging request, client: 172.16.100.244, server: cache.example.com, request: "GET /kp/zs/pc/list.html HTTP/1.1", host: "cache.example.com:8081", referrer: "http://cache.example.com:8081/kp/c100098/gywm.shtml"
2025/07/03 20:04:08 [error] 33010#14365911: *5 lua entry thread aborted: runtime error: /Users/sean/Desktop/openresty-cache//lua/lib/cache_lib.lua:349: bad argument #2 to 'insert' (number expected, got string)
stack traceback:
coroutine 0:
	[C]: in function 'insert'
	/Users/sean/Desktop/openresty-cache//lua/lib/cache_lib.lua:349: in function 'delete_by_prefix'
	/Users/sean/Desktop/openresty-cache/lua/api/router.lua:79: in function 'handler'
	/Users/sean/Desktop/openresty-cache/lua/api/router.lua:119: in main chunk, client: 127.0.0.1, server: localhost, request: "POST /api/cache/flush HTTP/1.1", host: "localhost:8080", referrer: "http://localhost:8080/dashboard/"
2025/07/03 20:04:29 [error] 33012#14365914: *1 lua entry thread aborted: runtime error: /Users/sean/Desktop/openresty-cache//lua/lib/cache_lib.lua:349: bad argument #2 to 'insert' (number expected, got string)
stack traceback:
coroutine 0:
	[C]: in function 'insert'
	/Users/sean/Desktop/openresty-cache//lua/lib/cache_lib.lua:349: in function 'delete_by_prefix'
	/Users/sean/Desktop/openresty-cache/lua/api/router.lua:79: in function 'handler'
	/Users/sean/Desktop/openresty-cache/lua/api/router.lua:119: in main chunk, client: 127.0.0.1, server: localhost, request: "POST /api/cache/flush HTTP/1.1", host: "localhost:8080", referrer: "http://localhost:8080/dashboard/"
2025/07/03 20:05:21 [info] 33012#14365914: *29 [lua] log.lua:21: {"uri":"\/favicon.ico","status":200,"args":{},"cache_key":"35a63c8a85b1279a0f991ce8828fb9d9","cache_hit":false,"time":1751544321} while logging request, client: 127.0.0.1, server: localhost, request: "GET /favicon.ico HTTP/1.1", host: "localhost:8080", referrer: "http://localhost:8080/dashboard/"
